
每日知识点记录

----------------------------------------------------------

开始时间
2020/01/10

有时候可能没时间，所以尽量一天记录一些吧

----------------------------------------------------------

2020/01/10 详细记录

----------------------------------------------------------

github 上传拉取 卡住不动
	https://www.ipaddress.com/
	查询 github.global.ssl.fastly.net 和 github.com 两个地址
	修改C:\Windows\System32\drivers\etc\hosts
	linux/mac执行sudo /etc/init.d/networking restart命令；
	windows在cmd中输入ipconfig /flushdns命令

上传图片
	https://www.cnblogs.com/fozero/p/8835628.html
        var formFile = new FormData();
        formFile.append("img", $('#upload').get(0).files[0]);

----------------------------------------------------------

2020/01/11 详细记录

----------------------------------------------------------

今天主要是做服务器的部署
使用之前的nginx和uwsgi配置
修改一些路径就可以配置好静态服务器和动态服务器了
主要的难点是守护进程 celery 
下面是一些参考资料
https://www.jianshu.com/p/9869cd1cbefe 配置
https://blog.csdn.net/qq_18863573/article/details/52437689
https://blog.csdn.net/sdafhkjas/article/details/102780983 解决错误

上线一些操作
设置路径
STATIC_ROOT = os.path.join(os.path.join(BASE_DIR, 'Jobs_web_django'), 'static')

收集静态文件
python manage.py collectstatic

收集依赖包
pip freeze > requirments.txt
安装依赖包
pip install -r requirments.txt

启动uWSGI
uwsgi --ini uwsgi.ini
ps -ef|grep uwsgi
关闭
uwsgi --stop uwsgi.pid
kill -9 n

开启nginx
nginx -c /var/www/Jobs_web_django/nginx.conf
关闭
nginx -s stop

上线服务器访问
http://49.234.125.109/

celery 配置
pip install supervisor
mkdir /etc/supervisor
echo_supervisord_conf > /etc/supervisor/supervisord.conf
mkdir supervisord.conf.d
cd supervisord.conf.d
touch celeryd_worker.conf

unlink /var/run/supervisor.sock
unlink /tmp/supervisor.sock

/root/.virtualenvs/jobenv/bin/supervisord -c supervisord.conf
supervisorctl status
supervisorctl update
supervisorctl reload
supervisorctl start all


----------------------------------------------------------

2020/01/13 详细记录

----------------------------------------------------------

修改charles的proxy配置，抓包手机访问
charles与爬虫的结合，APP爬取https需要ssl证书
需要手机root权限修改ssl证书，hash改名改目录为系统证书
参考资料
https://blog.csdn.net/ShadowySpirits/article/details/79756274

----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------
----------------------------------------------------------